{% extends 'layout-base.html' %}

{% block content %}
<div class="container mt-5">

  {% if groups|length == 0 %}
  <div class="text-center">
      <h3>Nenhum grupo encontrado :/</h3>
    <div class="mt-4">
      <a href="{{APP_URL}}/group/create" class="btn btn-warning fw-semibold">Enviar Grupo</a>
    </div>
  </div>
  {% else %}
  <h2 id="count-groups" class="mb-5">
    Grupos: <strong>{{ groups|length }}</strong>
  </h2>
  {% endif %}


  <div class="row">
    {% for group in groups %}
    <div class="col-md-3 col-sm-12 mb-5">
      <div class="card position-relative">
        <img style="height: 170px; object-fit: cover;" src="{{ group.image }}" class="card-img-top" />
        <div class="card-body">

          <a href="{{APP_URL}}?category={{group.category.name}}" style="position: absolute; margin-top: -25px; left: 10px;" class="badge bg-dark text-uppercase text-decoration-none">{{ group.category.name }}</a>

          <h5 class="card-title">{{ group.name|slice(0, 26) }}</h5>
          <p class="card-text">{{ group.description|slice(0, 100) }}</p>
          <a href="{{APP_URL}}/group/{{group.id}}" class="btn btn-success btn-group-join w-100">Entrar no Grupo</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

</div>
{% endblock %}